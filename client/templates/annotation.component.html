<ngb-accordion align:center #acc="ngbAccordion" activeIds="ngb-panel-0" 
[ngClass] = "{hidden : !isFreeDraw}">
	<ngb-panel title="Annotation creation menu">
	  <ng-template ngbPanelContent>
		<div class = "container" >
			<div>
					Choose An Existing line:
					<div ngbDropdown class="d-inline-block">
							<button class="btn btn-outline-primary" ngbDropdownToggle>{{ currentFreeDrawLineNum }}</button>
							<div ngbDropdownMenu aria-labelledby="dropdownBasic1">
								<button class="dropdown-item" *ngFor="let l of allFreeDrawLines" (click)="selectLine(l)">{{ l.num }}</button>
							</div>
					</div>
					<button class="btn btn-primary" (click)="addFreeDrawAnno()" >New Line</button>
			</div>
				<textarea [(ngModel)]="currentFreeDrawLineText"  rows="4" cols="50">	
				</textarea>
				<div>
						<button class="btn btn-primary" (click)="saveLine()">Save Line</button>
				</div>
		</div>
	  </ng-template>
	</ngb-panel>
  </ngb-accordion>

<canvas id="draw-layer"  [ngStyle]="
{ 
'margin-left': getTextLayerMarginLeft(),
'margin-top': getTextLayerMarginTop(),
'width' : getTextLayerMarginWidth(),
'height' :  getTextLayerMarginHeight()
}"
[ngClass] = "{hidden : !isFreeDraw}"
></canvas>
<div>
	<div id="main_div" align="center">
		<canvas id="text-layer" [ngClass]="{ hidden: !showingText }" [ngStyle]="{ 'margin-left': getTextLayerMarginLeft() }"></canvas>
		<img id="anno-img" (load)="initAnnotations()" [src]="page.image">
	</div>	
</div>



<nav id="workspace-footer" class="navbar-inverse navbar-fixed-bottom" role="navigation">
	<div class="container">
		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse">
			<ul class="nav navbar-nav">
				<li class="clickable" (click)="saveAnnotations()">
					<a>Save</a>
				</li>
				<li class="clickable">
					<a (click)="toggleFreeDraw()">
						Toggle free draw
					</a>
				</li>
				<li class="clickable" (click)="toggleShowText()">
					<a id="toggleClickDragButton">
						Toggle text
					</a>
				</li>
				<li class="clickable" (click)="saveAllFreeDraw()">
					<a>
						Save all free draw
					</a>
				</li>
			</ul>
		</div>
		<!-- /.navbar-collapse -->
	</div>
	<!-- /.container -->
</nav>